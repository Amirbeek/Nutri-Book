{"ast":null,"code":"var _jsxFileName = \"/Users/amirbekshomurodov/Documents/GitHub/cs2001-2023-24-group-49-1/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport './Styles/login.css';\nimport { handleConfirmPasswordChange, handlePasswordChange } from \"../utilities/passwordHandler\";\nimport { useOutletContext } from \"react-router-dom\";\nimport { handleRecoveryCall, handleSignInCall, handleSignUpCall } from \"../utilities/BackendService\";\nimport { wait } from \"@testing-library/user-event/dist/utils\";\n\n// Define the Login, Recovery and Registration component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Registration() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [loggedInUser, setLoggedInUser] = useOutletContext();\n  const [passwordMatch, setPasswordMatch] = useState(false);\n  const [passwordValid, setPasswordValid] = useState(false);\n  let [currentState, setCurrentState] = useState('signUp');\n  let [title, setTitle] = useState('Sign Up');\n  const handleBackendCall = async () => {\n    let response = '';\n    let error = '';\n    switch (currentState) {\n      case 'signUp':\n        ({\n          response,\n          error\n        } = await handleSignUpCall(email, username, password));\n        break;\n      case 'signIn':\n        ({\n          response,\n          error\n        } = await handleSignInCall(email, password));\n        break;\n      case 'recovery':\n        ({\n          response,\n          error\n        } = await handleRecoveryCall(email));\n        break;\n      default:\n        return;\n    }\n    if (response && (response.status === 200 || response.status === 201)) {\n      switch (currentState) {\n        case 'signIn':\n          try {\n            const {\n              authorization\n            } = response.headers;\n            const {\n              email\n            } = response.headers;\n            if (authorization) {\n              sessionStorage.setItem('token', authorization);\n              sessionStorage.setItem(\"username\", username);\n              setLoggedInUser(email);\n              setMessages([\"Login to account \" + email + \" Successful\"]);\n            } else {\n              setMessages([\"Token failure!\"]);\n              setLoggedInUser(\"\");\n            }\n          } catch (e) {\n            setMessages([\"Error during login\", e]);\n            setLoggedInUser('');\n          }\n          break;\n        case 'recovery':\n        case 'signUp':\n          setMessages([response.data]);\n          break;\n        default:\n          return;\n      }\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setConfirmPassword('');\n    } else {\n      setMessages(['Failed to Login due to server issue.']);\n    }\n  };\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n  const handleUsernameChange = u => {\n    setUsername(u.target.value);\n  };\n  const onChangePassword = event => {\n    const {\n      password,\n      passwordValid,\n      errors\n    } = handlePasswordChange(event, currentState);\n    setPassword(password);\n    setMessages([errors]);\n    setPasswordValid(passwordValid);\n  };\n  const onChangeConfirmPassword = event => {\n    const {\n      confPassword,\n      passwordMatch,\n      errors\n    } = handleConfirmPasswordChange(event, currentState, password);\n    setConfirmPassword(confPassword);\n    setMessages([errors]);\n    setPasswordMatch(passwordMatch);\n  };\n  function onButtonPress(state) {\n    setCurrentState(state);\n    switch (state) {\n      case 'signIn':\n        setTitle('Sign In');\n        setMessages([]);\n        document.getElementById('sign-up').className = \"disable\";\n        document.getElementById('sign-in').className = \"\";\n        document.getElementById('recovery').className = \"disable\";\n        break;\n      case 'signUp':\n        setTitle('Sign Up');\n        setMessages([]);\n        document.getElementById('sign-up').className = \"\";\n        document.getElementById('sign-in').className = \"disable\";\n        document.getElementById('recovery').className = \"disable\";\n        break;\n      case 'recovery':\n        setTitle('Recovery');\n        setMessages([]);\n        document.getElementById('sign-in').className = \"disable\";\n        document.getElementById('sign-up').className = \"disable\";\n        document.getElementById('recovery').className = \"\";\n        break;\n      default:\n        return;\n    }\n  }\n  const handleSignUp = () => {\n    setMessages([]);\n    if (currentState === 'signUp') {\n      if (currentState === 'signUp' && passwordMatch && passwordValid) {\n        handleBackendCall();\n      } else if (!passwordMatch) {\n        setMessages(['Passwords do not match.', 'Please check this before submitting.']);\n      } else if (!passwordValid) {\n        setMessages(['Password is not valid.', 'Please check this before submitting.']);\n      }\n    } else {\n      onButtonPress('signUp');\n    }\n  };\n  const handleSignIn = () => {\n    if (currentState === 'signIn') {\n      handleBackendCall();\n    } else {\n      onButtonPress('signIn');\n    }\n  };\n  const handleRecoverAccount = () => {\n    if (currentState === 'recovery') {\n      handleBackendCall();\n    } else {\n      onButtonPress('recovery');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            className: \"hide-from-view\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: email,\n            name: \"email\",\n            placeholder: \"Email\",\n            type: \"email\",\n            onChange: handleEmailChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 17\n        }, this), currentState === 'signUp' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            className: \"hide-from-view\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: username,\n            name: \"username\",\n            placeholder: \"Username\",\n            type: \"text\",\n            onChange: handleUsernameChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 47\n        }, this), (currentState === 'signUp' || currentState === 'signIn') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"hide-from-view\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            placeholder: \"Password\",\n            onChange: onChangePassword,\n            onFocus: onChangePassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 78\n        }, this), currentState === 'signUp' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirm-password\",\n            className: \"hide-from-view\",\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: confirmPassword,\n            name: \"confirm-password\",\n            placeholder: \"Confirm Password\",\n            type: \"password\",\n            onChange: onChangeConfirmPassword,\n            onFocus: onChangeConfirmPassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sign-up\",\n            className: \"hide-from-view\",\n            children: \"Sign Up Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"sign-up\",\n            name: \"sign-up\",\n            onClick: handleSignUp,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sign-in\",\n            className: \"hide-from-view\",\n            children: \"Sign In Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"sign-in\",\n            name: \"sign-in\",\n            className: \"disable\",\n            onClick: handleSignIn,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recovery\",\n            className: \"hide-from-view\",\n            children: \"Recover Account Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"recovery\",\n            name: \"recovery\",\n            className: \"disable\",\n            onClick: handleRecoverAccount,\n            children: \"Recover Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: messages.map((error, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 93\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 50\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 13\n  }, this);\n}\n_s(Registration, \"BRJanTHfjmUnpvIrejf7UHOsEJg=\", false, function () {\n  return [useOutletContext];\n});\n_c = Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","handleConfirmPasswordChange","handlePasswordChange","useOutletContext","handleRecoveryCall","handleSignInCall","handleSignUpCall","wait","jsxDEV","_jsxDEV","Registration","_s","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","messages","setMessages","loggedInUser","setLoggedInUser","passwordMatch","setPasswordMatch","passwordValid","setPasswordValid","currentState","setCurrentState","title","setTitle","handleBackendCall","response","error","status","authorization","headers","sessionStorage","setItem","e","data","handleEmailChange","target","value","handleUsernameChange","u","onChangePassword","event","errors","onChangeConfirmPassword","confPassword","onButtonPress","state","document","getElementById","className","handleSignUp","handleSignIn","handleRecoverAccount","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","name","placeholder","type","onChange","required","onFocus","id","onClick","map","index","_c","$RefreshReg$"],"sources":["/Users/amirbekshomurodov/Documents/GitHub/cs2001-2023-24-group-49-1/src/pages/Login.jsx"],"sourcesContent":["\n\nimport React, {useState} from \"react\";\nimport './Styles/login.css'\nimport {handleConfirmPasswordChange, handlePasswordChange} from \"../utilities/passwordHandler\";\nimport {useOutletContext} from \"react-router-dom\";\nimport {handleRecoveryCall, handleSignInCall, handleSignUpCall} from \"../utilities/BackendService\"\nimport {wait} from \"@testing-library/user-event/dist/utils\";\n\n// Define the Login, Recovery and Registration component\nexport default function Registration() {\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [loggedInUser, setLoggedInUser] = useOutletContext();\n    const [passwordMatch, setPasswordMatch] = useState(false);\n    const [passwordValid, setPasswordValid] = useState(false);\n\n    let [currentState, setCurrentState] = useState('signUp');\n    let [title, setTitle] = useState('Sign Up');\n\n    const handleBackendCall = async () => {\n        let response = '';\n        let error = '';\n\n        switch (currentState) {\n            case 'signUp':\n                ({response, error} = await handleSignUpCall(email, username, password));\n\n                break;\n            case 'signIn':\n                ({response, error} = await handleSignInCall(email, password));\n\n                break;\n            case 'recovery':\n                ({response, error} = await handleRecoveryCall(email));\n                break;\n            default:\n                return;\n        }\n        if (response && (response.status === 200 || response.status === 201)) {\n            switch (currentState) {\n                case 'signIn':\n                    try {\n                        const {authorization} = response.headers;\n                        const {email} = response.headers;\n                        if (authorization) {\n                            sessionStorage.setItem('token', authorization);\n                            sessionStorage.setItem(\"username\", username)\n                            setLoggedInUser(email);\n                            setMessages([\"Login to account \" + email + \" Successful\"]);\n                        } else {\n                            setMessages([\"Token failure!\"]);\n                            setLoggedInUser(\"\");\n                        }\n                    } catch (e) {\n                        setMessages([\"Error during login\", e]);\n                        setLoggedInUser('');\n                    }\n                    break;\n                case 'recovery':\n                case 'signUp':\n                    setMessages([response.data]);\n                    break;\n                default:\n                    return;\n            }\n            setUsername('');\n            setEmail('');\n            setPassword('');\n            setConfirmPassword('');\n        } else {\n            setMessages(['Failed to Login due to server issue.']);\n        }\n\n\n    }\n\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    }\n    const handleUsernameChange = (u) => {\n        setUsername(u.target.value);\n    }\n\n    const onChangePassword = (event) => {\n        const {password, passwordValid, errors} = handlePasswordChange(event, currentState);\n        setPassword(password);\n        setMessages([errors]);\n        setPasswordValid(passwordValid);\n\n    }\n\n    const onChangeConfirmPassword = (event) => {\n        const {confPassword, passwordMatch, errors} = handleConfirmPasswordChange(event, currentState, password)\n        setConfirmPassword(confPassword);\n        setMessages([errors]);\n        setPasswordMatch(passwordMatch)\n    }\n\n    function onButtonPress(state) {\n        setCurrentState(state);\n        switch (state) {\n            case 'signIn':\n                setTitle('Sign In');\n                setMessages([]);\n                document.getElementById('sign-up').className = \"disable\";\n                document.getElementById('sign-in').className = \"\";\n                document.getElementById('recovery').className = \"disable\";\n                break;\n            case 'signUp':\n                setTitle('Sign Up');\n                setMessages([]);\n                document.getElementById('sign-up').className = \"\";\n                document.getElementById('sign-in').className = \"disable\";\n                document.getElementById('recovery').className = \"disable\";\n                break;\n            case 'recovery':\n                setTitle('Recovery');\n                setMessages([]);\n                document.getElementById('sign-in').className = \"disable\";\n                document.getElementById('sign-up').className = \"disable\";\n                document.getElementById('recovery').className = \"\";\n                break;\n            default:\n                return;\n        }\n    }\n\n    const handleSignUp = () => {\n        setMessages([]);\n        if (currentState === 'signUp') {\n            if (currentState === 'signUp' && (passwordMatch && passwordValid)) {\n                handleBackendCall();\n            } else if (!passwordMatch) {\n                setMessages(['Passwords do not match.', 'Please check this before submitting.']);\n            } else if (!passwordValid) {\n                setMessages(['Password is not valid.', 'Please check this before submitting.']);\n            }\n        } else {\n            onButtonPress('signUp')\n        }\n    }\n\n    const handleSignIn = () => {\n        if (currentState === 'signIn') {\n            handleBackendCall();\n        } else {\n            onButtonPress('signIn')\n        }\n    }\n\n    const handleRecoverAccount = () => {\n        if (currentState === 'recovery') {\n            handleBackendCall();\n        } else {\n            onButtonPress('recovery')\n        }\n    }\n\n    return (<div className={\"page-container\"}>\n        <div className={\"content-container\"}>\n            <h1>{title}</h1>\n            <div className=\"input-group\">\n                <div className=\"input-field\">\n                    <label htmlFor=\"email\" className={\"hide-from-view\"}>Email</label>\n                    <input value={email} name=\"email\" placeholder=\"Email\" type=\"email\"\n                           onChange={handleEmailChange} required={true}/>\n                </div>\n\n                {currentState === 'signUp' && <div className=\"input-field\">\n                    <label htmlFor=\"username\" className={\"hide-from-view\"}>Username</label>\n                    <input value={username} name=\"username\" placeholder=\"Username\" type=\"text\"\n                           onChange={handleUsernameChange} required={true}/>\n                </div>}\n\n                {(currentState === 'signUp' || currentState === 'signIn') && <div className=\"input-field\">\n                    <label htmlFor=\"password\" className={\"hide-from-view\"}>Password</label>\n                    <input type={\"password\"} value={password} placeholder=\"Password\"\n                           onChange={onChangePassword} onFocus={onChangePassword}\n                           required={true}/>\n                </div>}\n\n                {currentState === 'signUp' && <div className=\"input-field\">\n                    <label htmlFor=\"confirm-password\" className={\"hide-from-view\"}>Confirm Password</label>\n                    <input value={confirmPassword} name=\"confirm-password\"\n                           placeholder=\"Confirm Password\"\n                           type=\"password\" onChange={onChangeConfirmPassword} onFocus={onChangeConfirmPassword}\n                           required={true}/>\n\n                </div>}\n            </div>\n            <div className=\"button-field\">\n                <div className={\"button-pair\"}>\n                    <label htmlFor={\"sign-up\"} className={\"hide-from-view\"}>Sign Up Button</label>\n                    <button type=\"button\" id=\"sign-up\" name=\"sign-up\"\n                            onClick={handleSignUp}>Sign Up\n                    </button>\n                </div>\n                <div className=\"button-pair\">\n                    <label htmlFor={\"sign-in\"} className={\"hide-from-view\"}>Sign In Button</label>\n                    <button type=\"button\" id=\"sign-in\" name=\"sign-in\" className=\"disable\"\n                            onClick={handleSignIn}>Sign In\n                    </button>\n                </div>\n                <div className=\"button-pair\">\n                    <label htmlFor={\"recovery\"} className={\"hide-from-view\"}>Recover Account Button</label>\n                    <button type={\"button\"} id={\"recovery\"} name={\"recovery\"} className=\"disable\"\n                            onClick={handleRecoverAccount}\n                    >Recover Account\n                    </button>\n                </div>\n            </div>\n\n            <div className={\"message\"}>\n                {messages.map((error, index) => (<div className=\"error-message\" key={index}><b>{error}</b></div>))}\n            </div>\n        </div>\n    </div>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}