{"ast":null,"code":"var _jsxFileName = \"/Users/amirbekshomurodov/Documents/GitHub/cs2001-2023-24-group-49-1/src/pages/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from 'axios';\nimport './Styles/login.css';\nimport { handleConfirmPasswordChange, handlePasswordChange } from \"../utilities/passwordHandler\";\nimport { Link, useOutletContext } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Registration() {\n  _s();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  let [errors, setErrors] = useState([]);\n  const [loggedInUser, setLoggedInUser] = useOutletContext();\n  const [passwordMatch, setPasswordMatch] = useState(false);\n  const [passwordValid, setPasswordValid] = useState(false);\n  let [currentState, setCurrentState] = useState('signUp');\n  let [title, setTitle] = useState('Sign Up');\n  const handleBackendCall = async () => {\n    const backendURL = 'http://localhost:8080/api/user';\n    let data = {};\n    let backendRoute = '';\n    switch (currentState) {\n      case 'signUp':\n        if (passwordValid === false) {\n          setErrors(['Password is not valid.']);\n          setPassword('');\n          setConfirmPassword('');\n          return;\n        }\n        data = {\n          email,\n          username,\n          password\n        };\n        backendRoute = '/register';\n        break;\n      case 'signIn':\n        data = {\n          \"username\": email,\n          password\n        };\n        backendRoute = '/login';\n        break;\n      case 'recovery':\n        data = {\n          email\n        };\n        backendRoute = '/recovery';\n        break;\n      default:\n        return;\n    }\n    let url = backendURL + backendRoute;\n    axios({\n      method: 'post',\n      url: url,\n      data: data\n    }).then(response => {\n      console.log(response);\n      if (currentState === 'signIn' && response.status === 200 || currentState === 'signUp' && response.status === 201 || currentState === 'recovery' && response.status === 200) {\n        switch (currentState) {\n          case 'signIn':\n            try {\n              const {\n                authorization\n              } = response.headers;\n              if (authorization !== null) {\n                sessionStorage.setItem('token', authorization);\n                setLoggedInUser(email);\n                setErrors([\"Login Successful\"]);\n              } else {\n                setErrors([\"Token failure!\"]);\n                setLoggedInUser(\"\");\n              }\n            } catch (e) {\n              setErrors([\"Error during login\", e]);\n            }\n            break;\n          case 'recovery':\n            setErrors([response.message]);\n            break;\n          case 'signUp':\n            setErrors([response.message]);\n            break;\n          default:\n            return;\n        }\n      } else {\n        alert(\"Operation failed!\");\n        setErrors(['Operation failed.']);\n        setUsername('');\n        setEmail('');\n        setPassword('');\n        setConfirmPassword('');\n        setLoggedInUser(\"\");\n      }\n    }).then(() => {\n      setUsername('');\n      setEmail('');\n      setPassword('');\n      setConfirmPassword('');\n    }).catch(error => {\n      if (error.response) {\n        let errorMessage = error.response.data;\n        console.log(errorMessage);\n        setErrors(errorMessage);\n      }\n    });\n  };\n  const handleEmailChange = e => {\n    setEmail(e.target.value);\n  };\n  const handleUsernameChange = u => {\n    setUsername(u.target.value);\n  };\n  const onChangePassword = event => {\n    const {\n      password,\n      isValidPassword,\n      errors\n    } = handlePasswordChange(event, currentState);\n    setPassword(password);\n    setErrors(errors);\n    setPasswordValid(isValidPassword);\n  };\n  const onChangeConfirmPassword = event => {\n    const {\n      confPassword,\n      passwordMatch,\n      errors\n    } = handleConfirmPasswordChange(event, currentState, password);\n    setConfirmPassword(confPassword);\n    setErrors(errors);\n    setPasswordMatch(passwordMatch);\n  };\n  function onButtonPress(state) {\n    setCurrentState(state);\n    switch (state) {\n      case 'signIn':\n        setTitle('Sign In');\n        setErrors([]);\n        document.getElementById('sign-up').className = \"disable\";\n        document.getElementById('sign-in').className = \"\";\n        document.getElementById('recovery').className = \"disable\";\n        break;\n      case 'signUp':\n        setTitle('Sign Up');\n        setErrors([]);\n        document.getElementById('sign-up').className = \"\";\n        document.getElementById('sign-in').className = \"disable\";\n        document.getElementById('recovery').className = \"disable\";\n        break;\n      case 'recovery':\n        setTitle('Recovery');\n        setErrors([]);\n        document.getElementById('sign-in').className = \"disable\";\n        document.getElementById('sign-up').className = \"disable\";\n        document.getElementById('recovery').className = \"\";\n        break;\n      default:\n        return;\n    }\n  }\n  const handleSignUp = () => {\n    if (currentState === 'signUp' && passwordMatch) {\n      handleBackendCall();\n    } else if (currentState === 'signUp' && !passwordMatch) {\n      setErrors(['Passwords do not match, please check this before submitting.']);\n    } else {\n      onButtonPress('signUp');\n    }\n  };\n  const handleSignIn = () => {\n    if (currentState === 'signIn') {\n      handleBackendCall();\n    } else {\n      onButtonPress('signIn');\n    }\n  };\n  const handleRecoverAccount = () => {\n    if (currentState === 'recovery') {\n      handleBackendCall();\n    } else {\n      onButtonPress('recovery');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          id: \"email-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"email\",\n            hidden: true,\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: email,\n            name: \"email\",\n            placeholder: \"Email\",\n            type: \"email\",\n            onChange: handleEmailChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this), currentState === 'signUp' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            hidden: true,\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: username,\n            name: \"username\",\n            placeholder: \"Username\",\n            type: \"text\",\n            onChange: handleUsernameChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 47\n        }, this), (currentState === 'signUp' || currentState === 'signIn') && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            hidden: true,\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            placeholder: \"Password\",\n            onChange: onChangePassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), currentState === 'signUp' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-field\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"confirm-password\",\n            hidden: true,\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            value: confirmPassword,\n            name: \"confirm-password\",\n            placeholder: \"Confirm Password\",\n            type: \"password\",\n            onChange: onChangeConfirmPassword,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-field\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sign-up\",\n            hidden: true,\n            children: \"Sign Up Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 48\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"sign-up\",\n            name: \"sign-up\",\n            onClick: handleSignUp,\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"sign-in\",\n            hidden: true,\n            children: \"Sign In Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"sign-in\",\n            name: \"sign-in\",\n            className: \"disable\",\n            onClick: handleSignIn,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"button-pair\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"recovery\",\n            hidden: true,\n            children: \"Recover Account Button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            id: \"recovery\",\n            name: \"recovery\",\n            className: \"disable\",\n            onClick: handleRecoverAccount,\n            children: \"Recover Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }, this), (currentState === 'signUp' || currentState === 'signIn') && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: errors.map((error, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 68\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 183,\n    columnNumber: 13\n  }, this);\n}\n_s(Registration, \"5mv1DwlGtVEi9/xhBeS4kzzKh9w=\", false, function () {\n  return [useOutletContext];\n});\n_c = Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","useState","axios","handleConfirmPasswordChange","handlePasswordChange","Link","useOutletContext","jsxDEV","_jsxDEV","Registration","_s","username","setUsername","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","errors","setErrors","loggedInUser","setLoggedInUser","passwordMatch","setPasswordMatch","passwordValid","setPasswordValid","currentState","setCurrentState","title","setTitle","handleBackendCall","backendURL","data","backendRoute","url","method","then","response","console","log","status","authorization","headers","sessionStorage","setItem","e","message","alert","catch","error","errorMessage","handleEmailChange","target","value","handleUsernameChange","u","onChangePassword","event","isValidPassword","onChangeConfirmPassword","confPassword","onButtonPress","state","document","getElementById","className","handleSignUp","handleSignIn","handleRecoverAccount","children","fileName","_jsxFileName","lineNumber","columnNumber","id","htmlFor","hidden","name","placeholder","type","onChange","required","onClick","map","index","_c","$RefreshReg$"],"sources":["/Users/amirbekshomurodov/Documents/GitHub/cs2001-2023-24-group-49-1/src/pages/Login.jsx"],"sourcesContent":["import React, {useState} from \"react\";\nimport axios from 'axios';\nimport './Styles/login.css'\nimport {handleConfirmPasswordChange, handlePasswordChange} from \"../utilities/passwordHandler\";\nimport {Link, useOutletContext} from \"react-router-dom\";\n\nexport default function Registration() {\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    let [errors, setErrors] = useState([]);\n    const [loggedInUser, setLoggedInUser] = useOutletContext();\n    const [passwordMatch, setPasswordMatch] = useState(false);\n    const [passwordValid, setPasswordValid] = useState(false);\n\n    let [currentState, setCurrentState] = useState('signUp');\n    let [title, setTitle] = useState('Sign Up');\n    const handleBackendCall = async () => {\n        const backendURL = 'http://localhost:8080/api/user';\n        let data = {};\n        let backendRoute = '';\n\n        switch (currentState) {\n            case 'signUp':\n                if (passwordValid === false) {\n                    setErrors(['Password is not valid.']);\n                    setPassword('');\n                    setConfirmPassword('');\n                    return;\n                }\n                data = {email, username, password};\n                backendRoute = '/register';\n                break;\n            case 'signIn':\n                data = {\"username\": email, password};\n                backendRoute = '/login';\n                break;\n            case 'recovery':\n                data = {email};\n                backendRoute = '/recovery';\n                break;\n            default:\n                return;\n        }\n        let url = backendURL + backendRoute;\n\n        axios({\n            method: 'post',\n            url: url,\n            data: data\n        })\n            .then(response => {\n                console.log(response);\n                if ((currentState === 'signIn' && response.status === 200) ||\n                    (currentState === 'signUp' && response.status === 201) ||\n                    (currentState === 'recovery' && response.status === 200)) {\n\n                    switch (currentState) {\n                        case 'signIn':\n                            try {\n                                const {authorization} = response.headers;\n                                if (authorization !== null) {\n                                    sessionStorage.setItem('token', authorization);\n                                    setLoggedInUser(email);\n                                    setErrors([\"Login Successful\"]);\n                                } else {\n                                    setErrors([\"Token failure!\"]);\n                                    setLoggedInUser(\"\");\n                                }\n\n                            } catch (e) {\n                                setErrors([\"Error during login\", e]);\n                            }\n                            break;\n                        case 'recovery':\n                            setErrors([response.message]);\n                            break;\n                        case 'signUp':\n                            setErrors([response.message]);\n                            break;\n                        default:\n                            return;\n                    }\n                } else {\n                    alert(\"Operation failed!\");\n                    setErrors(['Operation failed.']);\n                    setUsername('');\n                    setEmail('');\n                    setPassword('');\n                    setConfirmPassword('');\n                    setLoggedInUser(\"\");\n                }\n            }).then(() => {\n            setUsername('');\n            setEmail('');\n            setPassword('');\n            setConfirmPassword('');\n        }).catch(error => {\n            if (error.response) {\n                let errorMessage = error.response.data;\n                console.log(errorMessage);\n                setErrors(errorMessage);\n            }\n        });\n    };\n    const handleEmailChange = (e) => {\n        setEmail(e.target.value);\n    }\n    const handleUsernameChange = (u) => {\n        setUsername(u.target.value);\n    }\n\n    const onChangePassword = (event) => {\n        const {password, isValidPassword, errors} = handlePasswordChange(event, currentState);\n        setPassword(password);\n        setErrors(errors);\n        setPasswordValid(isValidPassword);\n    }\n\n    const onChangeConfirmPassword = (event) => {\n        const {confPassword, passwordMatch, errors} = handleConfirmPasswordChange(event, currentState, password)\n        setConfirmPassword(confPassword);\n        setErrors(errors);\n        setPasswordMatch(passwordMatch)\n    }\n\n    function onButtonPress(state) {\n        setCurrentState(state);\n        switch (state) {\n            case 'signIn':\n                setTitle('Sign In');\n                setErrors([]);\n                document.getElementById('sign-up').className = \"disable\";\n                document.getElementById('sign-in').className = \"\";\n                document.getElementById('recovery').className = \"disable\";\n                break;\n            case 'signUp':\n                setTitle('Sign Up');\n                setErrors([]);\n                document.getElementById('sign-up').className = \"\";\n                document.getElementById('sign-in').className = \"disable\";\n                document.getElementById('recovery').className = \"disable\";\n                break;\n            case 'recovery':\n                setTitle('Recovery');\n                setErrors([]);\n                document.getElementById('sign-in').className = \"disable\";\n                document.getElementById('sign-up').className = \"disable\";\n                document.getElementById('recovery').className = \"\";\n                break;\n            default:\n                return;\n        }\n    }\n\n    const handleSignUp = () => {\n        if (currentState === 'signUp' && passwordMatch) {\n            handleBackendCall();\n        } else if (currentState === 'signUp' && !passwordMatch) {\n            setErrors(['Passwords do not match, please check this before submitting.']);\n        } else {\n            onButtonPress('signUp')\n        }\n    }\n\n    const handleSignIn = () => {\n        if (currentState === 'signIn') {\n            handleBackendCall();\n        } else {\n            onButtonPress('signIn')\n        }\n    }\n\n    const handleRecoverAccount = () => {\n        if (currentState === 'recovery') {\n            handleBackendCall();\n        } else {\n            onButtonPress('recovery')\n        }\n    }\n\n    return (<div className={\"container\"}>\n        <div>\n            <h1>{title}</h1>\n            <div className=\"input-group\">\n                <div className=\"input-field\" id=\"email-field\">\n                    <label htmlFor=\"email\" hidden>Email</label>\n                    <input value={email} name=\"email\" placeholder=\"Email\" type=\"email\"\n                           onChange={handleEmailChange} required={true}/>\n                </div>\n\n                {currentState === 'signUp' && <div className=\"input-field\">\n                    <label htmlFor=\"username\" hidden>Username</label>\n                    <input value={username} name=\"username\" placeholder=\"Username\" type=\"text\"\n                           onChange={handleUsernameChange} required={true}/>\n                </div>}\n\n                {(currentState === 'signUp' || currentState === 'signIn') &&\n                    <div className=\"input-field\">\n                        <label htmlFor=\"password\" hidden>Password</label>\n                        <input type={\"password\"} value={password} placeholder=\"Password\"\n                               onChange={onChangePassword}\n                               required={true}/>\n                    </div>}\n\n                {currentState === 'signUp' && <div className=\"input-field\">\n                    <label htmlFor=\"confirm-password\" hidden>Confirm Password</label>\n                    <input value={confirmPassword} name=\"confirm-password\"\n                           placeholder=\"Confirm Password\"\n                           type=\"password\" onChange={onChangeConfirmPassword} required={true}/>\n\n                </div>}\n            </div>\n            <div className=\"button-field\">\n                <div className={\"button-pair\"}><label htmlFor={\"sign-up\"} hidden>Sign Up Button</label>\n                    <button type=\"button\" id=\"sign-up\" name=\"sign-up\"\n                            onClick={handleSignUp}>Sign Up\n                    </button>\n\n                </div>\n                <div className=\"button-pair\">\n                    <label htmlFor={\"sign-in\"} hidden>Sign In Button</label>\n                    <button type=\"button\" id=\"sign-in\" name=\"sign-in\" className=\"disable\"\n                            onClick={handleSignIn}>Sign In\n                    </button>\n                </div>\n                <div className=\"button-pair\">\n                    <label htmlFor={\"recovery\"} hidden>Recover Account Button</label>\n                    <button type={\"button\"} id={\"recovery\"} name={\"recovery\"} className=\"disable\"\n                            onClick={handleRecoverAccount}\n                    >Recover Account\n                    </button>\n                </div>\n            </div>\n            {(currentState === 'signUp' || currentState === 'signIn')\n                && (<div className={\"message\"}>\n                    {errors.map((error, index) => (\n                        <div className=\"error-message\" key={index}><b>{error}</b></div>))}\n                </div>)}\n        </div>\n    </div>);\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}